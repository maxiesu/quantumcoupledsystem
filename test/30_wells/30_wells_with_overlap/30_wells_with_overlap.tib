Device
{

  meshfile = 30_wells_with_overlap.msh 
  mesh_units = 1e-9

  Region barrier1
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well1
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier2
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier3
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well2
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier4
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier5
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well3
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier6
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier7
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well4
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier8
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier9
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well5
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier10
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier11
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well6
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier12
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier13
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well7
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier14
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier15
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well8
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier16
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier17
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well9
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier18
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier19
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well10
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier20
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier21
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well11
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier22
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier23
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well12
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier24
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier25
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well13
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier26
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier27
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well14
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier28
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier29
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well15
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier30
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier31
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well16
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier32
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier33
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well17
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier34
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier35
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well18
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier36
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier37
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well19
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier38
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier39
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well20
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier40
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier41
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well21
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier42
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier43
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well22
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier44
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier45
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well23
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier46
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier47
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well24
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier48
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier49
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well25
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier50
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier51
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well26
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier52
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier53
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well27
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier54
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier55
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well28
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier56
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier57
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well29
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier58
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region barrier59
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Region well30
  {
   material = GaAs
  
   Doping
   {
     density = 1e15
     type = donor
     level = 0.025
   }
  }

  Region barrier60
  {
   material = AlGaAs
  
   x = 0.3
  
   Doping
   {
     density = 1e17
     type = donor
     level = 0.025  
   }
  }

  Cluster QW_1
  {
    regions = (barrier1, well1,  barrier2)
  }

  Cluster QW_2
  {
    regions = (barrier3, well2,  barrier4)
  }

  Cluster QW_3
  {
    regions = (barrier5, well3,  barrier6)
  }

  Cluster QW_4
  {
    regions = (barrier7, well4,  barrier8)
  }

  Cluster QW_5
  {
    regions = (barrier9, well5,  barrier10)
  }

  Cluster QW_6
  {
    regions = (barrier11, well6,  barrier12)
  }

  Cluster QW_7
  {
    regions = (barrier13, well7,  barrier14)
  }

  Cluster QW_8
  {
    regions = (barrier15, well8,  barrier16)
  }

  Cluster QW_9
  {
    regions = (barrier17, well9,  barrier18)
  }

  Cluster QW_10
  {
    regions = (barrier19, well10,  barrier20)
  }

  Cluster QW_11
  {
    regions = (barrier21, well11,  barrier22)
  }

  Cluster QW_12
  {
    regions = (barrier23, well12,  barrier24)
  }

  Cluster QW_13
  {
    regions = (barrier25, well13,  barrier26)
  }

  Cluster QW_14
  {
    regions = (barrier27, well14,  barrier28)
  }

  Cluster QW_15
  {
    regions = (barrier29, well15,  barrier30)
  }

  Cluster QW_16
  {
    regions = (barrier31, well16,  barrier32)
  }

  Cluster QW_17
  {
    regions = (barrier33, well17,  barrier34)
  }

  Cluster QW_18
  {
    regions = (barrier35, well18,  barrier36)
  }

  Cluster QW_19
  {
    regions = (barrier37, well19,  barrier38)
  }

  Cluster QW_20
  {
    regions = (barrier39, well20,  barrier40)
  }

  Cluster QW_21
  {
    regions = (barrier41, well21,  barrier42)
  }

  Cluster QW_22
  {
    regions = (barrier43, well22,  barrier44)
  }

  Cluster QW_23
  {
    regions = (barrier45, well23,  barrier46)
  }

  Cluster QW_24
  {
    regions = (barrier47, well24,  barrier48)
  }

  Cluster QW_25
  {
    regions = (barrier49, well25,  barrier50)
  }

  Cluster QW_26
  {
    regions = (barrier51, well26,  barrier52)
  }

  Cluster QW_27
  {
    regions = (barrier53, well27,  barrier54)
  }

  Cluster QW_28
  {
    regions = (barrier55, well28,  barrier56)
  }

  Cluster QW_29
  {
    regions = (barrier57, well29,  barrier58)
  }

  Cluster QW_30
  {
    regions = (barrier59, well30,  barrier60)
  }

  Cluster Quantum_MQW
  {
    regions = (QW_1, QW_2, QW_3, QW_4, QW_5, QW_6, QW_7, QW_8, QW_9, QW_10, QW_11, QW_12, QW_13, QW_14, QW_15, QW_16, QW_17, QW_18, QW_19, QW_20, QW_21, QW_22, QW_23, QW_24, QW_25, QW_26, QW_27, QW_28, QW_29, QW_30)
  }
}




Module  driftdiffusion
{ 
 
  name = dd

  regions = all
  coupling = poisson


  plot = (Polarization, Ec, Ev, eQFermi, hQFermi, ElField, eDensity, hDensity,
          CurrentDensity, ContactCurrent, eMobility, hMobility)

  Physics
  {

    valence_band
    {
      density_of_states bulk_kp
      {
      }
    }
    
    conduction_band
    {
      density_of_states quantum
      {
        quantum_simulation = quantum_el
        barrier_regions = (barrier1, barrier2, barrier3)

        classical_DOS bulk_kp 
        {
        }
      }
    }


    recombination srh {}

   
    mobility doping_dependent {}

  }

}




Module efaschroedinger
{

  name = quantum_el
  regions = QW_1

  plot = (ProbabilityDensity, EigenEnergy, QuantumDensity)

  num_electron_states = 22
  poisson_simulation = dd
  strain_simulation = strain 


  Physics
  {
    model = conduction_band    
  }

}


Module efaschroedinger
{

  name = MQW
  regions = Quantum_MQW

  plot = (ProbabilityDensity, EigenEnergy, QuantumDensity)

  num_electron_states = 46
  poisson_simulation = dd
  strain_simulation = strain 


  Physics
  {
    model = conduction_band    
  }

}

Module lcqo
{

  regions = Quantum_MQW

  single_dot_hamiltonian = quantum_el
  total_system_hamiltonian = MQW

  number_of_dots = 30 

}

Module selfconsistent
{

  name =  poisson_schroedinger
  solve = (quantum_el, dd)
  max_iterations = 10
  absolute_tolerance = 1e-3
  relative_tolerance = 1e-8
  monitor = true
  #xmonitor = true
}


Simulation
{
  
  temperature = 300
  solve = (dd, quantum_el, lcqo)
  resultpath = output
}
